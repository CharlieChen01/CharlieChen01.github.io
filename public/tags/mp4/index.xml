<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Mp4 on ğŸ‘¨â€ğŸŒ¾ Charlie Chen</title>
    <link>http://localhost:1313/tags/mp4/</link>
    <description>Recent content in Mp4 on ğŸ‘¨â€ğŸŒ¾ Charlie Chen</description>
    <generator>Hugo -- 0.124.1</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 22 May 2024 16:49:05 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/mp4/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>How to Decode Mp4 Using C&#43;&#43; and Ffmepg</title>
      <link>http://localhost:1313/posts/media/how-to-decode-mp4-using-c&#43;&#43;-and-ffmepg/</link>
      <pubDate>Wed, 22 May 2024 16:49:05 +0800</pubDate>
      <guid>http://localhost:1313/posts/media/how-to-decode-mp4-using-c&#43;&#43;-and-ffmepg/</guid>
      <description>ä½¿ç”¨ FFmpeg åº“æ¥å¤„ç† MP4 ç¼–è§£ç  åˆå§‹åŒ– FFmpeg åœ¨ä½ çš„ C++ é¡¹ç›®ä¸­ï¼Œé¦–å…ˆéœ€è¦åˆå§‹åŒ– FFmpegã€‚ä½ å¯ä»¥è°ƒç”¨ av_register_all() æ¥æ³¨å†Œ FFmpeg æ‰€æœ‰çš„ç¼–è§£ç å™¨å’Œæ ¼å¼ã€‚
æ‰“å¼€è¾“å…¥æ–‡ä»¶ ä½¿ç”¨ avformat_open_input() æ‰“å¼€ MP4 æ–‡ä»¶ï¼Œè·å– AVFormatContext ç»“æ„ä½“ã€‚è¿™ä¸ªç»“æ„ä½“åŒ…å«äº†æ–‡ä»¶çš„æµä¿¡æ¯ã€ç¼–è§£ç å™¨ç­‰ã€‚
æŸ¥æ‰¾è§†é¢‘æµ éå† AVFormatContext ä¸­çš„æµï¼Œæ‰¾åˆ°è§†é¢‘æµçš„ç´¢å¼•ã€‚
è·å–è§†é¢‘è§£ç å™¨ ä½¿ç”¨è§†é¢‘æµç´¢å¼•ï¼Œè·å–è§†é¢‘æµçš„è§£ç å™¨ä¸Šä¸‹æ–‡ AVCodecContextã€‚ä½ å¯ä»¥ä½¿ç”¨ avcodec_find_decoder() æ¥æŸ¥æ‰¾åˆé€‚çš„è§£ç å™¨ã€‚
æ‰“å¼€è§£ç å™¨ ä½¿ç”¨ avcodec_open2() æ‰“å¼€è§£ç å™¨ã€‚
è¯»å–å¸§ ä½¿ç”¨ av_read_frame() è¯»å–è§†é¢‘å¸§ã€‚æ¯ä¸€å¸§éƒ½åŒ…å«åœ¨ AVPacket ä¸­ã€‚
è§£ç å¸§ ä½¿ç”¨ avcodec_decode_video2() è§£ç è§†é¢‘å¸§ã€‚è§£ç åçš„å›¾åƒæ•°æ®å°†å­˜å‚¨åœ¨ AVFrame ä¸­ã€‚
ç¼–ç å¸§ å¦‚æœä½ éœ€è¦é‡æ–°ç¼–ç å¸§ï¼Œå¯ä»¥ä½¿ç”¨ avcodec_encode_video2() å°†è§£ç åçš„å¸§é‡æ–°ç¼–ç ã€‚
ä¿å­˜å¸§ å°†ç¼–ç åçš„å¸§ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚ä½ å¯ä»¥ä½¿ç”¨ av_interleaved_write_frame() å°†å¸§å†™å…¥è¾“å‡ºæ–‡ä»¶ã€‚
æ¸…ç†èµ„æº æœ€åï¼Œåˆ«å¿˜äº†é‡Šæ”¾æ‰€æœ‰åˆ†é…çš„å†…å­˜å’Œå…³é—­æ–‡ä»¶ã€‚
ä»¥ä¸‹æ˜¯ä½¿ç”¨ C++ï¼Œ FFmpeg å¤„ç† MP4 ç¼–è§£ç ç¤ºä¾‹ä»£ç ï¼š
extern &amp;#34;C&amp;#34; { #include &amp;lt;libavformat/avformat.h&amp;gt; #include &amp;lt;libavcodec/avcodec.</description>
    </item>
  </channel>
</rss>
